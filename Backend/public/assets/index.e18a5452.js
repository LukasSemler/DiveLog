import{d as Se,r as u,o as se,a as Q,b as g,c as y,u as t,e as L,f as m,w as f,A as Ee,i as S,g as de,h as e,L as Oe,W as Ae,j as Ue,R as be,F as A,k as H,l as oe,m as P,n as ee,p as M,q as we,s as C,v as I,t as x,x as B,y as $e,T as ke,z,B as Ne,C as ce,D as Ve,E as j,G as te,H as O,I as Re,J as Te,K as T,S as De,M as je,N as We,O as K,P as G,Q as Me,U as Pe,V as ze,X as He,Y as ue,Z as Je,_ as Be,$ as me,a0 as ge,a1 as pe,a2 as fe,a3 as ve,a4 as he,a5 as xe,a6 as Fe,a7 as Ge,a8 as Xe,a9 as Ze}from"./vendor.11cd25b8.js";const qe=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=i(a);fetch(a.href,s)}};qe();function _e(D){const n=R();(n.aktiverUser!=null||D)&&localStorage.setItem(n.$id,JSON.stringify(n.$state))}const R=Se("diveLog",{state:()=>({aktiverUser:{}}),getters:{},actions:{setAktivenUser(D){this.aktiverUser=D,_e()},deleteAktivenUser(){this.aktiverUser=null,_e(!0)}}}),X=async()=>{try{return await fetch(window.location.origin,{method:"HEAD"}),!0}catch{return!1}},Ye={key:0},Ke=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Qe={class:"fixed inset-0 z-10 overflow-y-auto"},et={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},tt={class:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-gray-100"},st={class:"mt-3 text-center sm:mt-5"},ot=H("Ein Update ist verf\xFCgbar"),lt=e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"}," Es gibt eine neuere Version der App, bitte klicken Sie auf den Button weiter unten um die neueste Version der App herunterzuladen ")],-1),at={setup(D){let n=u(!1),i=u(!0),r=null;const a=R(),s=async()=>{r=await oe("divesDB",1,{upgrade(l){l.createObjectStore("dives",{keyPath:"d_ID"})}})};se(async()=>{window.indexedDB||alert("IndexedDB is not available!"),localStorage.getItem(a.$id)&&(a.$state=JSON.parse(localStorage.getItem(a.$id))),i.value=await X(),window.addEventListener("online",()=>{i.value=!0,synchronize()}),window.addEventListener("offline",()=>{i.value=!1,navigator.vibrate(200)});const l=await navigator.serviceWorker.getRegistration();if(!l){console.log("registration failed!");return}l.addEventListener("updatefound",()=>n.value=!0),l.waiting&&(n.value=!0),window.indexedDB||alert("IndexedDB is not available!"),r||await s(),i.value==!0&&await synchronize()});const d=async()=>{var p;i.value=await X(),window.addEventListener("online",()=>i.value=!0),window.addEventListener("offline",()=>i.value=!1);const l=await navigator.serviceWorker.getRegistration();l&&((p=l.waiting)==null||p.postMessage({type:"SKIP_WAITING"})),window.location.reload()};return(l,p)=>{const b=Q("CloudDownloadIcon");return g(),y(A,null,[t(i)?L("",!0):(g(),y("div",Ye,"Du bist offline \u{1F622}")),m(t(Ue),{as:"template",show:t(n)},{default:f(()=>[m(t(Ee),{as:"div",class:"relative z-10",onClose:p[0]||(p[0]=w=>S(n)?n.value=!0:n=!0)},{default:f(()=>[m(t(de),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:f(()=>[Ke]),_:1}),e("div",Qe,[e("div",et,[m(t(de),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:f(()=>[m(t(Oe),{class:"relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6"},{default:f(()=>[e("div",null,[e("div",tt,[m(b,{class:"h-6 w-6 text-chsBlue","aria-hidden":"true"})]),e("div",st,[m(t(Ae),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:f(()=>[ot]),_:1}),lt])]),e("div",{class:"mt-5 sm:mt-6"},[e("button",{type:"button",class:"inline-flex w-full justify-center rounded-md border border-transparent bg-chsBlue px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-chsDarkBlue sm:text-sm",onClick:d}," Update ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),e("div",null,[m(t(be))])],64)}}},nt={setup(D){return(n,i)=>(g(),y("div",null,[m(t(be))]))}},it={class:"min-h-full bg-white px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8"},rt={class:"mx-auto max-w-max"},dt={class:"sm:flex"},ct=e("p",{class:"text-4xl font-bold tracking-tight text-lime-500 sm:text-5xl"},"404",-1),ut={class:"sm:ml-6"},mt=e("div",{class:"sm:border-l sm:border-gray-200 sm:pl-6"},[e("h1",{class:"text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl"}," Page not found "),e("p",{class:"mt-1 text-base text-gray-500"}," Please check the URL in the address bar and try again. ")],-1),gt={class:"mt-10 flex space-x-3 sm:border-l sm:border-transparent sm:pl-6"},pt={setup(D){const n=P();return(i,r)=>(g(),y("div",it,[e("div",rt,[e("main",dt,[ct,e("div",ut,[mt,e("div",gt,[e("a",{onClick:r[0]||(r[0]=a=>t(n).push("/")),class:"inline-flex items-center rounded-md border border-transparent bg-lime-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-lime-600 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:ring-offset-2"},"Go back home"),e("a",{onClick:r[1]||(r[1]=a=>t(n).push("/contact")),class:"inline-flex items-center rounded-md border border-transparent bg-lime-100 px-4 py-2 text-sm font-medium text-lime-600 hover:bg-lime-200 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:ring-offset-2"},"Contact support")])])])])]))}};var Z="/diver-svgrepo-com.svg";const ft={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8"},vt=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[e("img",{class:"mx-auto h-20 w-auto",src:Z,alt:"Dive Log Icon"}),e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Login")],-1),ht={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},xt={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},_t={class:"space-y-6",action:"#",method:"POST"},yt=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email ",-1),bt={class:"mt-1"},wt={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},$t=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1),kt={class:"mt-1"},Dt={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},Bt=e("hr",null,null,-1),Ct={class:"flex items-center justify-between"},It={class:"text-sm"},Lt={setup(D){const n=R(),i=P();let r=u(!1);u(!1),u(!1),u(""),u(null),u(!1);let a=ee({email:"",password:""});const s=M(()=>({email:{required:B,email:$e},password:{required:B}})),d=we(s,a);async function l(p){console.log("LOGIN"),p.preventDefault();try{if(d.value.$validate(),d.value.$error)console.log("Fehler");else{//! Login mit Server bauen
n.setAktivenUser({u_id:3,vorname:"Lukas",nachname:"Semler",email:"lukas.semler@gmail.com",passwort:"LukasPW",strasse:"Venusweg",hnr:"11",plz:"1140",stadt:"Wien"}),console.log(n.aktiverUser),i.push("/home")}p.preventDefault()}catch(b){p.preventDefault(),console.log(b.message),r.value=!0,setTimeout(()=>{r.value=!1},5e3)}finally{p.preventDefault()}}return M(()=>d.value.$invalid==!0),(p,b)=>(g(),y("div",ft,[vt,e("div",ht,[e("div",xt,[e("form",_t,[e("div",null,[yt,e("div",bt,[C(e("input",{"onUpdate:modelValue":b[0]||(b[0]=w=>t(a).email=w),id:"email",name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[I,t(a).email]]),t(d).email.$invalid?(g(),y("p",wt,x(t(d).email.$silentErrors[0].$message),1)):L("",!0)])]),e("div",null,[$t,e("div",kt,[C(e("input",{"onUpdate:modelValue":b[1]||(b[1]=w=>t(a).password=w),id:"password",name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[I,t(a).password]]),t(d).password.$invalid?(g(),y("p",Dt,x(t(d).password.$silentErrors[0].$message),1)):L("",!0)])]),Bt,e("div",Ct,[e("div",It,[e("a",{onClick:b[2]||(b[2]=w=>t(i).push("/register")),class:"font-medium text-divelogBlue hover:text-chsDarkBlue underline hover:cursor-pointer"}," Create an Account ")])]),e("div",null,[e("button",{onClick:l,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-divelogBlue hover:bg-divelogDarkBlue focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-divelogBlue"}," Sign in ")])])])])]))}},St={"aria-live":"assertive",class:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start z-40"},Et={class:"w-full flex flex-col items-center space-y-4 sm:items-end"},Ot={key:0,class:"max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden"},At={class:"p-4"},Ut={class:"flex items-start"},Nt={class:"flex-shrink-0"},Vt=e("div",{class:"ml-3 w-0 flex-1 pt-0.5"},[e("p",{class:"text-sm font-medium text-gray-900"},"Error"),e("p",{class:"mt-1 text-sm text-gray-500"}," Es gibt bereits einen User mit dieser Email-Adresse, bitte verwenden Sie eine andere ")],-1),Rt={class:"ml-4 flex-shrink-0 flex"},Tt=e("span",{class:"sr-only"},"Close",-1),jt={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8"},Wt=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[e("img",{class:"mx-auto h-12 w-auto",src:Z,alt:"Dive Log Icon"}),e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Register")],-1),Mt={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-3xl"},Pt={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},zt={class:"space-y-6"},Ht={class:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-4"},Jt=e("label",{for:"first-name",class:"block text-sm font-medium text-gray-700"},"Firstname",-1),Ft={class:"mt-1"},Gt={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},Xt=e("label",{for:"last-name",class:"block text-sm font-medium text-gray-700"},"Lastname",-1),Zt={class:"mt-1"},qt={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},Yt={class:"sm:col-span-2"},Kt=e("label",{for:"company",class:"block text-sm font-medium text-gray-700"},"Email",-1),Qt={class:"mt-1"},es={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},ts={class:"sm:col-span-2"},ss=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1),os={class:"mt-1"},ls={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},as={class:"sm:col-span-2"},ns=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700"},"Repeat Password",-1),is={class:"mt-1"},rs={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},ds={class:"flex items-center justify-between"},cs={class:"text-sm"},us={setup(D){const n=P();let i=u(!1),r=u(!1);u(null),u(null),u(null);let a=u("");const s=ee({vorname:"",nachname:"",email:"",strasse_hnr:"",stadt:"",plz:"",password:"",c_password:""});ee({char1:"",char2:"",char3:"",char4:"",char5:"",char6:""});const d=M(()=>({vorname:{required:B},nachname:{required:B},email:{required:B,email:$e},strasse_hnr:{required:B},stadt:{required:B},plz:{required:B,numeric:Ne},password:{required:B,minLength:ce(6)},c_password:{required:B,minLength:ce(6),sameAs:Ve(s.password)}}));M(()=>({char1:{required:B},char2:{required:B},char3:{required:B},char4:{required:B},char5:{required:B},char6:{required:B}}));const l=we(d,s);async function p(w){w.preventDefault();try{if(l.value.$validate(),l.value.$error)console.log("Nicht alle Felder ausgef\xFCllt");else{console.log("sucess");const{data:_}=await z.post("/sendCodeRegister",{vorname:s.vorname,nachname:s.nachname,email:s.email});a.value=_,console.log("Code: ",a.value),r.value=!0,OTPInput()}w.preventDefault()}catch(_){w.preventDefault(),console.log(_.message),i.value=!0,setTimeout(()=>{i.value=!1},5e3),b()}finally{w.preventDefault()}}function b(){s.vorname="",s.nachname="",s.email="",s.strasse_hnr="",s.stadt="",s.plz="",s.telefon="",s.password="",s.c_password=""}return(w,_)=>{const $=Q("XCircleIcon"),h=Q("XIcon");return g(),y(A,null,[e("div",St,[e("div",Et,[m(ke,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:f(()=>[t(i)?(g(),y("div",Ot,[e("div",At,[e("div",Ut,[e("div",Nt,[m($,{class:"h-6 w-6 text-red-500","aria-hidden":"true"})]),Vt,e("div",Rt,[e("button",{onClick:_[0]||(_[0]=v=>S(i)?i.value=!1:i=!1),class:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2"},[Tt,m(h,{class:"h-5 w-5","aria-hidden":"true"})])])])])])):L("",!0)]),_:1})])]),e("div",jt,[Wt,e("div",Mt,[e("div",Pt,[e("form",zt,[e("div",null,[e("div",null,[e("div",Ht,[e("div",null,[Jt,e("div",Ft,[C(e("input",{"onUpdate:modelValue":_[1]||(_[1]=v=>t(s).vorname=v),type:"text",id:"first-name",name:"first-name",autocomplete:"given-name",class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[I,t(s).vorname]]),t(l).vorname.$invalid?(g(),y("p",Gt,x(t(l).vorname.$silentErrors[0].$message),1)):L("",!0)])]),e("div",null,[Xt,e("div",Zt,[C(e("input",{"onUpdate:modelValue":_[2]||(_[2]=v=>t(s).nachname=v),type:"text",id:"last-name",name:"last-name",autocomplete:"family-name",class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[I,t(s).nachname]]),t(l).nachname.$invalid?(g(),y("p",qt,x(t(l).nachname.$silentErrors[0].$message),1)):L("",!0)])]),e("div",Yt,[Kt,e("div",Qt,[C(e("input",{"onUpdate:modelValue":_[3]||(_[3]=v=>t(s).email=v),type:"email",name:"email",id:"email",class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[I,t(s).email]]),t(l).email.$invalid?(g(),y("p",es,x(t(l).email.$silentErrors[0].$message),1)):L("",!0)])]),e("div",ts,[ss,e("div",os,[C(e("input",{"onUpdate:modelValue":_[4]||(_[4]=v=>t(s).password=v),type:"password",name:"password",id:"password",class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[I,t(s).password]]),t(l).password.$invalid?(g(),y("p",ls,x(t(l).password.$silentErrors[0].$message),1)):L("",!0)])]),e("div",as,[ns,e("div",is,[C(e("input",{"onUpdate:modelValue":_[5]||(_[5]=v=>t(s).c_password=v),type:"password",name:"c_password",id:"c_password",class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[I,t(s).c_password]]),t(l).c_password.$invalid?(g(),y("p",rs,x(t(l).c_password.$silentErrors[0].$message),1)):L("",!0)])])])])]),e("div",ds,[e("div",cs,[e("a",{onClick:_[6]||(_[6]=v=>t(n).push("/")),class:"font-medium text-divelogBlue hover:text-diveDarkBlue underline hover:cursor-pointer"}," To Login ")])]),e("div",null,[e("button",{onClick:p,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-divelogBlue hover:bg-diveDarkBlue focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-divelogBlue"}," Register ")])])])])])],64)}}},ms={class:"m-4"},gs=e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Your stats:",-1),ps={class:"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3"},fs={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},vs=e("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Dives",-1),hs={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},xs={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},_s=e("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Divetime",-1),ys={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},bs=e("br",null,null,-1),ws=e("hr",null,null,-1),$s=e("h1",{class:"text-center text-3xl font-bold my-4"},"All your Dives",-1),ks=e("div",{id:"map",style:{height:"300px"}},null,-1),Ds=e("br",null,null,-1),Bs=e("hr",null,null,-1),Cs=e("br",null,null,-1),Is={class:"px-4 sm:px-6 lg:px-8 m-4"},Ls={class:"sm:flex sm:items-center"},Ss=e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-xl font-semibold text-gray-900"},"Dives"),e("p",{class:"mt-2 text-sm text-gray-700"},"Here you can see a list of all your dives.")],-1),Es={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none"},Os={class:"mt-8 flex flex-col"},As={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},Us={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},Ns={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},Vs={class:"min-w-full divide-y divide-gray-300"},Rs=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," NR. "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Title "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Date ")])],-1),Ts={class:"bg-white"},js=["onClick"],Ws={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Ms={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},Ps={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},zs={setup(D){let n=u(null),i=u("pk.eyJ1IjoibHVrYXNzZW1sZXIiLCJhIjoiY2xlZTM3MzlyMDVuODN0b2NueWQ1OHNpZyJ9.NboOeOXWIhK0vucp7B9A5w"),r="mapbox://styles/lukassemler/clbaoba0t007t14nt6n0qujvl";const a=P(),s=R();let d=u([]);const l=u(!0);let p=null;const b=async()=>{if(!l.value){let h=await p.getAll("dives");d.value=h;return}try{const{data:h}=await z.get(`http://localhost:3000/dives/${s.aktiverUser.u_id}`);console.log(h),d.value=h,await p.clear("dives"),d.value.forEach(v=>{p.put("dives",Re(v))})}catch(h){console.error(h),l.value=!1,b()}},w=async()=>{p=await oe("divesDB",1,{upgrade(h){h.createObjectStore("dives",{keyPath:"d_ID"})}})};se(async()=>{l.value=await X(),window.addEventListener("online",()=>{l.value=!0}),window.addEventListener("offline",()=>{l.value=!1,navigator.vibrate(200)}),await w(),await b(),n.value=new j.Map({container:"map",style:r,accessToken:i.value,center:[14,50],zoom:1});for(const h of d.value){const v=JSON.parse(h.coords);new j.Marker({anchor:"center",color:"#03C7FC"}).setLngLat([v[0],v[1]]).addTo(n.value)}});const _=M(()=>{let h=0;return d.value.forEach(v=>{h+=v.diveTime}),h});function $(h){console.log(h.d_ID),a.push(`/diveDetail/${h.d_ID}`)}return(h,v)=>(g(),y(A,null,[e("div",ms,[gs,e("dl",ps,[e("div",fs,[vs,e("dd",hs,x(t(d).length),1)]),e("div",xs,[_s,e("dd",ys,x(t(_))+"min ",1)])])]),bs,ws,$s,ks,Ds,Bs,Cs,e("div",Is,[e("div",Ls,[Ss,e("div",Es,[e("button",{onClick:v[0]||(v[0]=k=>t(a).push("/addDive")),type:"button",class:"inline-flex items-center justify-center rounded-md border border-transparent bg-divelogBlue px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto"}," Add Dive ")])]),e("div",Os,[e("div",As,[e("div",Us,[e("div",Ns,[e("table",Vs,[Rs,e("tbody",Ts,[(g(!0),y(A,null,te(t(d),(k,U)=>(g(),y("tr",{key:U,class:O(U%2===0?void 0:"bg-gray-50"),onClick:N=>$(k)},[e("td",Ws,x(k.nr),1),e("td",Ms,x(k.title),1),e("td",Ps,x(new Date(k.date).getDate())+"."+x(new Date(k.date).getMonth()+1)+"."+x(new Date(k.date).getFullYear()),1)],10,js))),128))])])])])])])])],64))}},Hs={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Js={class:"flex h-16 justify-between"},Fs=e("div",{class:"flex"},[e("div",{class:"flex flex-shrink-0 items-center"},[e("img",{class:"block h-8 w-auto lg:hidden",src:Z,alt:"DiveLog"}),e("img",{class:"hidden h-8 w-auto lg:block",src:Z,alt:"DiveLog"})]),e("div",{class:"hidden sm:ml-6 sm:flex sm:space-x-8"},[e("a",{href:"#",class:"inline-flex items-center border-b-2 border-diveLogBlue px-1 pt-1 text-sm font-medium text-gray-900"},"Home"),e("a",{href:"#",class:"inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700"},"Log Dive")])],-1),Gs={class:"hidden sm:ml-6 sm:flex sm:items-center"},Xs=e("div",null,null,-1),Zs={class:"-mr-2 flex items-center sm:hidden"},qs=e("span",{class:"sr-only"},"Open main menu",-1),Ys={class:"space-y-1 pt-2 pb-3"},Ks=H("Home"),Qs=H("Log Dive"),eo={class:"border-t border-gray-200 pt-4 pb-3"},to=e("div",{class:"flex items-center px-4"},[e("div",{class:"ml-3"})],-1),so={class:"mt-3 space-y-1"},oo=H("Sign out"),lo=e("h1",{class:"text-center font-bold text-4xl mt-4"},"Home",-1),ao=e("br",null,null,-1),no=e("div",null,"LOADING...",-1),io={setup(D){const n=R(),i=P();function r(){n.deleteAktivenUser(),i.push("/")}return(a,s)=>(g(),y(A,null,[m(t(Te),{as:"nav",class:"bg-white shadow"},{default:f(({open:d})=>[e("div",Hs,[e("div",Js,[Fs,e("div",Gs,[m(t(je),{as:"div",class:"relative ml-3"},{default:f(()=>[Xs,m(ke,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:f(()=>[m(t(We),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:f(()=>[m(t(K),null,{default:f(({active:l})=>[e("a",{href:"#",class:O([l?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Your Profil",2)]),_:1}),m(t(K),null,{default:f(({active:l})=>[e("a",{href:"#",class:O([l?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Settings",2)]),_:1}),m(t(K),null,{default:f(({active:l})=>[e("a",{onClick:r,class:O([l?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Sign out",2)]),_:1})]),_:1})]),_:1})]),_:1})]),e("div",Zs,[m(t(G),{class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-diveLogBlue"},{default:f(()=>[qs,d?(g(),T(t(Pe),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(g(),T(t(Me),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),m(t(ze),{class:"sm:hidden"},{default:f(()=>[e("div",Ys,[m(t(G),{as:"a",href:"#",class:"block border-l-4 border-diveLogBlue bg-gray-100 py-2 pl-3 pr-4 text-base font-medium text-divelogBlue"},{default:f(()=>[Ks]),_:1}),m(t(G),{as:"a",onClick:s[0]||(s[0]=l=>t(i).push("/addDive")),class:"block border-l-4 border-transparent py-2 pl-3 pr-4 text-base font-medium text-gray-500 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-700"},{default:f(()=>[Qs]),_:1})]),e("div",eo,[to,e("div",so,[m(t(G),{onClick:r,as:"a",class:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800"},{default:f(()=>[oo]),_:1})])])]),_:1})]),_:1}),e("div",null,[lo,ao,(g(),T(De,null,{fallback:f(()=>[no]),default:f(()=>[m(zs)]),_:1}))])],64))}},ro=e("h1",{class:"text-center text-3xl font-bold mt-4"},"Log Dive",-1),co={class:"space-y-8 divide-y divide-gray-200 m-4"},uo={class:"space-y-8 divide-y divide-gray-200"},mo={class:"pt-8"},go=e("div",null,[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"General Information"),e("p",{class:"mt-1 text-sm text-gray-500"}," Here you can add general Information of the Dive. ")],-1),po={class:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6"},fo={class:"sm:col-span-3"},vo=e("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),ho={class:"mt-1"},xo={class:"sm:col-span-3"},_o=e("label",{for:"date",class:"block text-sm font-medium text-gray-700"},"Date",-1),yo={class:"mt-1"},bo={class:"sm:col-span-4"},wo=e("label",{for:"Country",class:"block text-sm font-medium text-gray-700"},"Country",-1),$o={class:"mt-1"},ko={class:"sm:col-span-4"},Do=e("label",{for:"divesite",class:"block text-sm font-medium text-gray-700"},"Divesite",-1),Bo={class:"mt-1"},Co=e("p",{class:"my-3 text-gray-500"},"or pick your current location",-1),Io=e("br",null,null,-1),Lo=e("div",{class:"mt-5"},[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Specific Information"),e("p",{class:"mt-1 text-sm text-gray-500"}," Here you can add specific Information of the Dive like depth and time. ")],-1),So={class:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6"},Eo={class:"sm:col-span-3"},Oo=e("label",{for:"depth",class:"block text-sm font-medium text-gray-700"},"Max. Depth",-1),Ao={class:"mt-1"},Uo={class:"sm:col-span-3"},No=e("label",{for:"time",class:"block text-sm font-medium text-gray-700"},"Dive Time",-1),Vo={class:"mt-1"},Ro={class:"sm:col-span-3"},To=e("label",{for:"airIn",class:"block text-sm font-medium text-gray-700"},"Air In",-1),jo={class:"mt-1"},Wo={class:"sm:col-span-3"},Mo=e("label",{for:"airOut",class:"block text-sm font-medium text-gray-700"},"Air Our",-1),Po={class:"mt-1"},zo={class:"flex flex-row"},Ho={class:"flex flex-col w-full"},Jo=H("Type of Air"),Fo={class:"relative mt-1"},Go={class:"sm:col-span-3"},Xo=e("label",{for:"weight",class:"block text-sm font-medium text-gray-700"},"Weight (kg)",-1),Zo={class:"mt-1"},qo={class:"flex flex-row"},Yo={class:"flex flex-col w-full"},Ko=H("Suit"),Qo={class:"relative mt-1"},el={class:"pt-8"},tl=e("div",null,[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Memories"),e("p",{class:"mt-1 text-sm text-gray-500"}," Here you can upload the beste Image from the dive ")],-1),sl={class:"sm:col-span-2"},ol=e("label",{for:"cover-photo",class:"block text-sm font-medium text-gray-700"}," Image ",-1),ll={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},al={key:0,class:"space-y-1 text-center"},nl=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),il={class:"flex text-sm text-gray-600"},rl={for:"file-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-divelogBlue hover:text-divelogBlue focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-divelogBlue"},dl=e("span",null,"Upload a file",-1),cl=e("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF up to 10MB",-1),ul={key:1},ml={class:"flex justify-center"},gl=["src"],pl={key:0,class:"flex justify-center"},fl={class:"pt-5"},vl={class:"flex justify-end"},hl={setup(D){const n=P(),i=R();let r=u(null),a=u("pk.eyJ1IjoibHVrYXNzZW1sZXIiLCJhIjoiY2xlZTM3MzlyMDVuODN0b2NueWQ1OHNpZyJ9.NboOeOXWIhK0vucp7B9A5w"),s="mapbox://styles/lukassemler/clbaoba0t007t14nt6n0qujvl",d=u("0px"),l=u(""),p=u(null),b=u(""),w=u(""),_=u(null),$=u(null),h=u(null),v=u(null),k=u(null),U=u(null),N=u(null);const ae=[{id:1,name:"Without"},{id:2,name:"Shorty"},{id:3,name:"3mm"},{id:4,name:"5mm"},{id:5,name:"7mm"},{id:6,name:"Semi-Dry"},{id:7,name:"Dry"}],q=u(""),J=u(null),ne=M(()=>q.value===""?ae:ae.filter(V=>V.name.toLowerCase().includes(q.value.toLowerCase()))),ie=[{id:1,name:"Air"},{id:2,name:"EANx 30"},{id:3,name:"EANx 31"},{id:4,name:"EANx 32"},{id:5,name:"EANx 33"}],Y=u(""),F=u(null),re=M(()=>Y.value===""?ie:ie.filter(V=>V.name.toLowerCase().includes(Y.value.toLowerCase())));async function Ce(){let V=()=>new Promise(function(E,W){navigator.geolocation.getCurrentPosition(E,W)}),{coords:{latitude:c,longitude:o}}=await V();_.value=[o,c],console.log(c,o),d.value="300px",j.accessToken=a.value,r.value=await new j.Map({container:"map",style:s,center:[o,c],zoom:13}),new j.Marker({anchor:"center",color:"#03C7FC"}).setLngLat([o,c]).addTo(r.value)}async function Ie(V){let c=new FileReader;c.addEventListener("load",async E=>{console.log(E),N.value=E.target.result});let o=await Je(document.querySelector("#file-upload").files[0],{maxSizeMB:.004,maxWidthOrHeight:1920,useWebWorker:!0});c.readAsDataURL(o)}async function Le(V){if(V.preventDefault(),_.value)try{await z.post(`http://localhost:3000/addDive/${i.aktiverUser.u_id}`,{title:l.value,date:p.value,country:b.value,divesite:w.value,depth:$.value,airIn:v.value,airOut:k.value,weight:U.value,air:F.value.name,suit:J.value.name,coords:_.value,time:h.value,image:N.value}),n.go(-1)}catch{console.log("Error")}else try{await z.post(`http://localhost:3000/addDive/${i.aktiverUser.u_id}`,{title:l.value,date:p.value,country:b.value,divesite:w.value,depth:$.value,airIn:v.value,airOut:k.value,weight:U.value,air:F.value.name,suit:J.value.name,coords:null,time:h.value}),n.go(-1)}catch{console.log("Error")}}return(V,c)=>(g(),y(A,null,[e("button",{type:"button",class:"inline-flex items-center rounded-full border border-transparent bg-divelogBlue p-2 text-white shadow-sm hover:bg-divelogDarkBlue focus:outline-none focus:ring-2 focus:ring-divelogBlue focus:ring-offset-2 m-4",onClick:c[0]||(c[0]=o=>t(n).go(-1))},[m(t(Be),{class:"h-6 w-6","aria-hidden":"true"})]),ro,e("form",co,[e("div",uo,[e("div",mo,[go,e("div",po,[e("div",fo,[vo,e("div",ho,[C(e("input",{type:"text",name:"title",id:"title",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":c[1]||(c[1]=o=>S(l)?l.value=o:l=o)},null,512),[[I,t(l)]])])]),e("div",xo,[_o,e("div",yo,[C(e("input",{type:"date",name:"date",id:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":c[2]||(c[2]=o=>S(p)?p.value=o:p=o)},null,512),[[I,t(p)]])])]),e("div",bo,[wo,e("div",$o,[C(e("input",{id:"country",name:"country",type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":c[3]||(c[3]=o=>S(b)?b.value=o:b=o)},null,512),[[I,t(b)]])])]),e("div",ko,[Do,e("div",Bo,[C(e("input",{id:"divesite",name:"divesite",type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":c[4]||(c[4]=o=>S(w)?w.value=o:w=o)},null,512),[[I,t(w)]])]),Co,e("div",{class:"flex flex-row justify-center"},[e("button",{type:"button",class:"mt-4 inline-flex items-center rounded-md border border-transparent bg-divelogBlue px-3 py-2 text-sm font-medium leading-4 text-white shadow-sm hover:bg-divelogDarkBlue focus:outline-none focus:ring-2 focus:ring-divelogBlue focus:ring-offset-2",onClick:Ce}," Get current location ")]),Io,e("div",{style:He(`height: ${t(d)}`),id:"map"},null,4)])])]),e("div",null,[Lo,e("div",So,[e("div",Eo,[Oo,e("div",Ao,[C(e("input",{type:"number",name:"depth",id:"depth",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":c[5]||(c[5]=o=>S($)?$.value=o:$=o)},null,512),[[I,t($)]])])]),e("div",Uo,[No,e("div",Vo,[C(e("input",{type:"number",name:"time",id:"time",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":c[6]||(c[6]=o=>S(h)?h.value=o:h=o)},null,512),[[I,t(h)]])])]),e("div",Ro,[To,e("div",jo,[C(e("input",{type:"number",name:"airIn",id:"airIn",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":c[7]||(c[7]=o=>S(v)?v.value=o:v=o)},null,512),[[I,t(v)]])])]),e("div",Wo,[Mo,e("div",Po,[C(e("input",{type:"number",name:"airOut",id:"airOut",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":c[8]||(c[8]=o=>S(k)?k.value=o:k=o)},null,512),[[I,t(k)]])])]),e("div",zo,[e("div",Ho,[m(t(ue),{as:"div",modelValue:F.value,"onUpdate:modelValue":c[10]||(c[10]=o=>F.value=o)},{default:f(()=>[m(t(me),{class:"block text-sm font-medium text-gray-700"},{default:f(()=>[Jo]),_:1}),e("div",Fo,[m(t(ge),{class:"w-full rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 shadow-sm focus:border-divelogBlue focus:outline-none focus:ring-1 focus:ring-divelogBlue sm:text-sm",onChange:c[9]||(c[9]=o=>Y.value=o.target.value),"display-value":o=>o==null?void 0:o.name},null,8,["display-value"]),m(t(pe),{class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},{default:f(()=>[m(t(fe),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1}),t(re).length>0?(g(),T(t(ve),{key:0,class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:f(()=>[(g(!0),y(A,null,te(t(re),o=>(g(),T(t(he),{key:o.id,value:o,as:"template"},{default:f(({active:E,selected:W})=>[e("li",{class:O(["relative cursor-default select-none py-2 pl-3 pr-9",E?"bg-divelogBlue text-white":"text-gray-900"])},[e("span",{class:O(["block truncate",W&&"font-semibold"])},x(o.name),3),W?(g(),y("span",{key:0,class:O(["absolute inset-y-0 right-0 flex items-center pr-4",E?"text-white":"text-divelogBlue"])},[m(t(xe),{class:"h-5 w-5","aria-hidden":"true"})],2)):L("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):L("",!0)])]),_:1},8,["modelValue"])])]),e("div",Go,[Xo,e("div",Zo,[C(e("input",{type:"number",name:"weight",id:"weight",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":c[11]||(c[11]=o=>S(U)?U.value=o:U=o)},null,512),[[I,t(U)]])])]),e("div",qo,[e("div",Yo,[m(t(ue),{as:"div",modelValue:J.value,"onUpdate:modelValue":c[13]||(c[13]=o=>J.value=o)},{default:f(()=>[m(t(me),{class:"block text-sm font-medium text-gray-700"},{default:f(()=>[Ko]),_:1}),e("div",Qo,[m(t(ge),{class:"w-full rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 shadow-sm focus:border-divelogBlue focus:outline-none focus:ring-1 focus:ring-divelogBlue sm:text-sm",onChange:c[12]||(c[12]=o=>q.value=o.target.value),"display-value":o=>o==null?void 0:o.name},null,8,["display-value"]),m(t(pe),{class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},{default:f(()=>[m(t(fe),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1}),t(ne).length>0?(g(),T(t(ve),{key:0,class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:f(()=>[(g(!0),y(A,null,te(t(ne),o=>(g(),T(t(he),{key:o.id,value:o,as:"template"},{default:f(({active:E,selected:W})=>[e("li",{class:O(["relative cursor-default select-none py-2 pl-3 pr-9",E?"bg-divelogBlue text-white":"text-gray-900"])},[e("span",{class:O(["block truncate",W&&"font-semibold"])},x(o.name),3),W?(g(),y("span",{key:0,class:O(["absolute inset-y-0 right-0 flex items-center pr-4",E?"text-white":"text-divelogBlue"])},[m(t(xe),{class:"h-5 w-5","aria-hidden":"true"})],2)):L("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):L("",!0)])]),_:1},8,["modelValue"])])])])]),e("div",el,[tl,e("div",sl,[ol,e("div",ll,[t(N)?(g(),y("div",ul,[e("div",ml,[e("img",{crossorigin:"anonymous",class:"object-scale-down h-48 w-96 mt-3",src:t(N),alt:""},null,8,gl)])])):(g(),y("div",al,[nl,e("div",il,[e("label",rl,[dl,e("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",accept:"image/png, image/gif, image/jpeg",onChange:Ie,multiple:"true"},null,32)])]),cl]))]),t(N)?(g(),y("div",pl,[e("button",{onClick:c[14]||(c[14]=o=>S(N)?N.value=null:N=null),type:"button",class:"mt-2 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-500 hover:bg-chsRed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-chsRed"}," Bild entfernen ")])):L("",!0)])])]),e("div",fl,[e("div",vl,[e("button",{onClick:c[15]||(c[15]=o=>t(n).push("/home")),type:"button",class:"rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-divelogBlue focus:ring-offset-2"}," Cancel "),e("button",{type:"submit",class:"ml-3 inline-flex justify-center rounded-md border border-transparent bg-divelogBlue py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg--divelogBlue focus:outline-none focus:ring-2 focus:ring-divelogBlue focus:ring-offset-2",onClick:Le}," Save ")])])])],64))}},xl={class:"overflow-hidden bg-white shadow sm:rounded-lg"},_l=e("div",{class:"px-4 py-5 sm:px-6"},[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Dive Info")],-1),yl={class:"border-t border-gray-200"},bl={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},wl=e("dt",{class:"text-sm font-medium text-gray-500"},"Dive Number",-1),$l={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},kl={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Dl=e("dt",{class:"text-sm font-medium text-gray-500"},"Title",-1),Bl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Cl={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Il=e("dt",{class:"text-sm font-medium text-gray-500"},"Date",-1),Ll={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Sl={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},El=e("dt",{class:"text-sm font-medium text-gray-500"},"Country",-1),Ol={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Al={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Ul=e("dt",{class:"text-sm font-medium text-gray-500"},"Dive Site",-1),Nl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Vl=e("br",null,null,-1),Rl={class:"overflow-hidden bg-white shadow sm:rounded-lg"},Tl=e("div",{class:"px-4 py-5 sm:px-6"},[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Dive Details")],-1),jl={class:"border-t border-gray-200"},Wl={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Ml=e("dt",{class:"text-sm font-medium text-gray-500"},"Max. Depth",-1),Pl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},zl={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Hl=e("dt",{class:"text-sm font-medium text-gray-500"},"Divetime",-1),Jl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Fl={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Gl=e("dt",{class:"text-sm font-medium text-gray-500"},"Air In",-1),Xl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Zl={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ql=e("dt",{class:"text-sm font-medium text-gray-500"},"Air Out",-1),Yl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Kl={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Ql=e("dt",{class:"text-sm font-medium text-gray-500"},"Wetsuit",-1),ea={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},ta={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},sa=e("dt",{class:"text-sm font-medium text-gray-500"},"Weight",-1),oa={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},la=e("h1",{class:"text-center text-xl my-4"},"View you Dive on the Map",-1),aa=e("div",{id:"karte",style:{height:"300px"}},null,-1),na=e("br",null,null,-1),ia=e("hr",null,null,-1),ra=e("br",null,null,-1),da=e("h1",{class:"text-center text-xl font-bold my-3"},"The best Image from your Dive",-1),ca=["src"],ua={props:{diveID:String},setup(D){const n=D,i=R(),r=u(!0);let a=null;const s=u();let d=u(null),l=u("pk.eyJ1IjoibHVrYXNzZW1sZXIiLCJhIjoiY2xlZTM3MzlyMDVuODN0b2NueWQ1OHNpZyJ9.NboOeOXWIhK0vucp7B9A5w"),p="mapbox://styles/lukassemler/clbaoba0t007t14nt6n0qujvl",b=u("0px");const w=async()=>{if(!r.value){let $=await a.get("dives",parseInt(n.diveID));s.value=$;return}try{const{data:$}=await z.get(`http://localhost:3000/dives/${i.aktiverUser.u_id}`);s.value=$[0]}catch($){console.error($),r.value=!1,w()}},_=async()=>{a=await oe("divesDB",1,{upgrade($){$.createObjectStore("dives",{keyPath:"d_ID"})}})};return se(async()=>{r.value=await X(),window.addEventListener("online",()=>{r.value=!0}),window.addEventListener("offline",()=>{r.value=!1,navigator.vibrate(200)}),await _(),await w();const $=JSON.parse(s.value.coords);b.value="300px",j.accessToken=l.value,d.value=await new j.Map({container:"karte",style:p,center:[$[0],$[1]],zoom:4}),new j.Marker({anchor:"center",color:"#03C7FC"}).setLngLat([$[0],$[1]]).addTo(d.value)}),($,h)=>(g(),y(A,null,[e("div",xl,[_l,e("div",yl,[e("dl",null,[e("div",bl,[wl,e("dd",$l,x(s.value.nr),1)]),e("div",kl,[Dl,e("dd",Bl,x(s.value.title),1)]),e("div",Cl,[Il,e("dd",Ll,x(new Date(s.value.date).getDate())+"."+x(new Date(s.value.date).getMonth()+1)+"."+x(new Date(s.value.date).getFullYear()),1)]),e("div",Sl,[El,e("dd",Ol,x(s.value.location),1)]),e("div",Al,[Ul,e("dd",Nl,x(s.value.divesite),1)])])])]),Vl,e("div",Rl,[Tl,e("div",jl,[e("dl",null,[e("div",Wl,[Ml,e("dd",Pl,x(s.value.depth)+"m",1)]),e("div",zl,[Hl,e("dd",Jl,x(s.value.diveTime)+"min ",1)]),e("div",Fl,[Gl,e("dd",Xl,x(s.value.airIn)+"Bar ",1)]),e("div",Zl,[ql,e("dd",Yl,x(s.value.airOut)+"Bar ",1)]),e("div",Kl,[Ql,e("dd",ea,x(s.value.suit),1)]),e("div",ta,[sa,e("dd",oa,x(s.value.weight)+"kg ",1)])])])]),la,aa,na,ia,ra,da,e("img",{src:s.value.image,alt:""},null,8,ca)],64))}},ma=e("h1",null,"LOADING",-1),ga={setup(D){const n=P(),i=n.currentRoute.value.params.id;return(r,a)=>(g(),y(A,null,[e("button",{type:"button",class:"inline-flex items-center rounded-full border border-transparent bg-divelogBlue p-2 text-white shadow-sm hover:bg-divelogDarkBlue focus:outline-none focus:ring-2 focus:ring-divelogBlue focus:ring-offset-2 m-4",onClick:a[0]||(a[0]=s=>t(n).go(-1))},[m(t(Be),{class:"h-6 w-6","aria-hidden":"true"})]),(g(),T(De,null,{fallback:f(()=>[ma]),default:f(()=>[m(ua,{diveID:t(i)},null,8,["diveID"])]),_:1}))],64))}},pa=Fe({history:Ge(),routes:[{path:"/",name:"Login_RegisterView",component:nt,children:[{path:"",component:Lt},{path:"register",component:us}]},{path:"/home",name:"Home",component:io,beforeEnter:(D,n,i)=>{R().aktiverUser?i():i("/")}},{path:"/addDive",name:"Add Dive",component:hl},{path:"/diveDetail/:id",params:!0,name:"DiveDetail",component:ga,beforeEnter:(D,n,i)=>{R().aktiverUser?i():i("/")}},{path:"/:pathmatch(.*)*",name:"not-found",component:pt}]});const fa="modulepreload",ye={},va="/",ha=function(n,i){return!i||i.length===0?n():Promise.all(i.map(r=>{if(r=`${va}${r}`,r in ye)return;ye[r]=!0;const a=r.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":fa,a||(d.as="script",d.crossOrigin=""),d.href=r,document.head.appendChild(d),a)return new Promise((l,p)=>{d.addEventListener("load",l),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>n())};function xa(D={}){const{immediate:n=!1,onNeedRefresh:i,onOfflineReady:r,onRegistered:a,onRegisteredSW:s,onRegisterError:d}=D;let l,p,b,w;const _=async(h=!0)=>{await b,h&&(l==null||l.addEventListener("controlling",v=>{v.isUpdate&&window.location.reload()})),await(w==null?void 0:w())};async function $(){if("serviceWorker"in navigator){const{Workbox:h,messageSW:v}=await ha(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);w=async()=>{p&&p.waiting&&await v(p.waiting,{type:"SKIP_WAITING"})},l=new h("/service-worker.js",{scope:"/",type:"classic"}),l.addEventListener("activated",k=>{k.isUpdate||r==null||r()});{const k=()=>{i==null||i()};l.addEventListener("waiting",k),l.addEventListener("externalwaiting",k)}l.register({immediate:n}).then(k=>{p=k,s?s("/service-worker.js",k):a==null||a(k)}).catch(k=>{d==null||d(k)})}}return b=$(),_}(location.origin==="http://localhost:8080"||location.origin==="http://localhost:5050")&&(z.defaults.baseURL="http://localhost:2410");const le=Xe(at),_a=Ze();le.use(_a);xa({onNeedRefresh(){},onOfflineReady(){}});le.use(pa);le.mount("#app");

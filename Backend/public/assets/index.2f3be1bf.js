import{d as Se,r as m,o as se,a as K,b as p,c as w,u as t,e as I,f as g,w as v,A as Ee,i as S,g as re,h as e,L as Ae,W as Oe,j as Ue,R as ye,F as O,k as H,l as be,m as P,n as Q,p as M,q as we,s as B,v as C,t as y,x as D,y as $e,T as ke,z,B as Ne,C as de,D as Ve,E as j,G as ee,H as A,I as Re,J as Te,K as T,S as De,M as je,N as We,O as Y,P as G,Q as Me,U as Pe,V as ze,X as He,Y as ce,Z as Je,_ as Be,$ as ue,a0 as me,a1 as ge,a2 as pe,a3 as fe,a4 as ve,a5 as he,a6 as Fe,a7 as Ge,a8 as Xe,a9 as Ze,aa as qe}from"./vendor.e140feef.js";const Ye=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function i(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(n){if(n.ep)return;n.ep=!0;const o=i(n);fetch(n.href,o)}};Ye();function xe(k){const a=R();(a.aktiverUser!=null||k)&&localStorage.setItem(a.$id,JSON.stringify(a.$state))}const R=Se("diveLog",{state:()=>({aktiverUser:{}}),getters:{},actions:{setAktivenUser(k){this.aktiverUser=k,xe()},deleteAktivenUser(){this.aktiverUser=null,xe(!0)}}}),te=async()=>{try{return await fetch(window.location.origin,{method:"HEAD"}),!0}catch{return!1}},Ke={key:0},Qe=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),et={class:"fixed inset-0 z-10 overflow-y-auto"},tt={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},st={class:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-gray-100"},ot={class:"mt-3 text-center sm:mt-5"},lt=H("Ein Update ist verf\xFCgbar"),at=e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"}," Es gibt eine neuere Version der App, bitte klicken Sie auf den Button weiter unten um die neueste Version der App herunterzuladen ")],-1),nt={setup(k){let a=m(!1),i=m(!0),u=null;const n=R(),o=async()=>{u=await be("divesDB",1,{upgrade(l){l.createObjectStore("dives",{keyPath:"d_ID"})}})};se(async()=>{window.indexedDB||alert("IndexedDB is not available!"),localStorage.getItem(n.$id)&&(n.$state=JSON.parse(localStorage.getItem(n.$id))),i.value=await te(),window.addEventListener("online",()=>{i.value=!0,synchronize()}),window.addEventListener("offline",()=>{i.value=!1,navigator.vibrate(200)});const l=await navigator.serviceWorker.getRegistration();if(!l){console.log("registration failed!");return}l.addEventListener("updatefound",()=>a.value=!0),l.waiting&&(a.value=!0),window.indexedDB||alert("IndexedDB is not available!"),u||await o(),i.value==!0&&await synchronize()});const d=async()=>{var f;i.value=await te(),window.addEventListener("online",()=>i.value=!0),window.addEventListener("offline",()=>i.value=!1);const l=await navigator.serviceWorker.getRegistration();l&&((f=l.waiting)==null||f.postMessage({type:"SKIP_WAITING"})),window.location.reload()};return(l,f)=>{const b=K("CloudDownloadIcon");return p(),w(O,null,[t(i)?I("",!0):(p(),w("div",Ke,"Du bist offline \u{1F622}")),g(t(Ue),{as:"template",show:t(a)},{default:v(()=>[g(t(Ee),{as:"div",class:"relative z-10",onClose:f[0]||(f[0]=_=>S(a)?a.value=!0:a=!0)},{default:v(()=>[g(t(re),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:v(()=>[Qe]),_:1}),e("div",et,[e("div",tt,[g(t(re),{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:v(()=>[g(t(Ae),{class:"relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6"},{default:v(()=>[e("div",null,[e("div",st,[g(b,{class:"h-6 w-6 text-chsBlue","aria-hidden":"true"})]),e("div",ot,[g(t(Oe),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:v(()=>[lt]),_:1}),at])]),e("div",{class:"mt-5 sm:mt-6"},[e("button",{type:"button",class:"inline-flex w-full justify-center rounded-md border border-transparent bg-chsBlue px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-chsDarkBlue sm:text-sm",onClick:d}," Update ")])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"]),e("div",null,[g(t(ye))])],64)}}},it={setup(k){return(a,i)=>(p(),w("div",null,[g(t(ye))]))}},rt={class:"min-h-full bg-white px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8"},dt={class:"mx-auto max-w-max"},ct={class:"sm:flex"},ut=e("p",{class:"text-4xl font-bold tracking-tight text-lime-500 sm:text-5xl"},"404",-1),mt={class:"sm:ml-6"},gt=e("div",{class:"sm:border-l sm:border-gray-200 sm:pl-6"},[e("h1",{class:"text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl"}," Page not found "),e("p",{class:"mt-1 text-base text-gray-500"}," Please check the URL in the address bar and try again. ")],-1),pt={class:"mt-10 flex space-x-3 sm:border-l sm:border-transparent sm:pl-6"},ft={setup(k){const a=P();return(i,u)=>(p(),w("div",rt,[e("div",dt,[e("main",ct,[ut,e("div",mt,[gt,e("div",pt,[e("a",{onClick:u[0]||(u[0]=n=>t(a).push("/")),class:"inline-flex items-center rounded-md border border-transparent bg-lime-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-lime-600 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:ring-offset-2"},"Go back home"),e("a",{onClick:u[1]||(u[1]=n=>t(a).push("/contact")),class:"inline-flex items-center rounded-md border border-transparent bg-lime-100 px-4 py-2 text-sm font-medium text-lime-600 hover:bg-lime-200 focus:outline-none focus:ring-2 focus:ring-lime-500 focus:ring-offset-2"},"Contact support")])])])])]))}};var X="/diver-svgrepo-com.svg";const vt={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8"},ht=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[e("img",{class:"mx-auto h-20 w-auto",src:X,alt:"Dive Log Icon"}),e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Login")],-1),xt={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},_t={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},yt={class:"space-y-6",action:"#",method:"POST"},bt=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Email ",-1),wt={class:"mt-1"},$t={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},kt=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Password ",-1),Dt={class:"mt-1"},Bt={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},Ct=e("hr",null,null,-1),It={class:"flex items-center justify-between"},Lt={class:"text-sm"},St={setup(k){const a=R(),i=P();let u=m(!1);m(!1),m(!1),m(""),m(null),m(!1);let n=Q({email:"",password:""});const o=M(()=>({email:{required:D,email:$e},password:{required:D}})),d=we(o,n);async function l(f){console.log("LOGIN"),f.preventDefault();try{if(d.value.$validate(),d.value.$error)console.log("Fehler");else{//! Login mit Server bauen
a.setAktivenUser({u_id:3,vorname:"Lukas",nachname:"Semler",email:"lukas.semler@gmail.com",passwort:"LukasPW",strasse:"Venusweg",hnr:"11",plz:"1140",stadt:"Wien"}),console.log(a.aktiverUser),i.push("/home")}f.preventDefault()}catch(b){f.preventDefault(),console.log(b.message),u.value=!0,setTimeout(()=>{u.value=!1},5e3)}finally{f.preventDefault()}}return M(()=>d.value.$invalid==!0),(f,b)=>(p(),w("div",vt,[ht,e("div",xt,[e("div",_t,[e("form",yt,[e("div",null,[bt,e("div",wt,[B(e("input",{"onUpdate:modelValue":b[0]||(b[0]=_=>t(n).email=_),id:"email",name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[C,t(n).email]]),t(d).email.$invalid?(p(),w("p",$t,y(t(d).email.$silentErrors[0].$message),1)):I("",!0)])]),e("div",null,[kt,e("div",Dt,[B(e("input",{"onUpdate:modelValue":b[1]||(b[1]=_=>t(n).password=_),id:"password",name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[C,t(n).password]]),t(d).password.$invalid?(p(),w("p",Bt,y(t(d).password.$silentErrors[0].$message),1)):I("",!0)])]),Ct,e("div",It,[e("div",Lt,[e("a",{onClick:b[2]||(b[2]=_=>t(i).push("/register")),class:"font-medium text-divelogBlue hover:text-chsDarkBlue underline hover:cursor-pointer"}," Create an Account ")])]),e("div",null,[e("button",{onClick:l,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-divelogBlue hover:bg-divelogDarkBlue focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-divelogBlue"}," Sign in ")])])])])]))}},Et={"aria-live":"assertive",class:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start z-40"},At={class:"w-full flex flex-col items-center space-y-4 sm:items-end"},Ot={key:0,class:"max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden"},Ut={class:"p-4"},Nt={class:"flex items-start"},Vt={class:"flex-shrink-0"},Rt=e("div",{class:"ml-3 w-0 flex-1 pt-0.5"},[e("p",{class:"text-sm font-medium text-gray-900"},"Error"),e("p",{class:"mt-1 text-sm text-gray-500"}," Es gibt bereits einen User mit dieser Email-Adresse, bitte verwenden Sie eine andere ")],-1),Tt={class:"ml-4 flex-shrink-0 flex"},jt=e("span",{class:"sr-only"},"Close",-1),Wt={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8"},Mt=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[e("img",{class:"mx-auto h-12 w-auto",src:X,alt:"Dive Log Icon"}),e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Register")],-1),Pt={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-3xl"},zt={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},Ht={class:"space-y-6"},Jt={class:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-4"},Ft=e("label",{for:"first-name",class:"block text-sm font-medium text-gray-700"},"Firstname",-1),Gt={class:"mt-1"},Xt={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},Zt=e("label",{for:"last-name",class:"block text-sm font-medium text-gray-700"},"Lastname",-1),qt={class:"mt-1"},Yt={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},Kt={class:"sm:col-span-2"},Qt=e("label",{for:"company",class:"block text-sm font-medium text-gray-700"},"Email",-1),es={class:"mt-1"},ts={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},ss={class:"sm:col-span-2"},os=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1),ls={class:"mt-1"},as={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},ns={class:"sm:col-span-2"},is=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700"},"Repeat Password",-1),rs={class:"mt-1"},ds={key:0,class:"mt-2 text-sm text-diveRed",id:"email-error"},cs={class:"flex items-center justify-between"},us={class:"text-sm"},ms={setup(k){const a=P();let i=m(!1),u=m(!1);m(null),m(null),m(null);let n=m("");const o=Q({vorname:"",nachname:"",email:"",strasse_hnr:"",stadt:"",plz:"",password:"",c_password:""});Q({char1:"",char2:"",char3:"",char4:"",char5:"",char6:""});const d=M(()=>({vorname:{required:D},nachname:{required:D},email:{required:D,email:$e},strasse_hnr:{required:D},stadt:{required:D},plz:{required:D,numeric:Ne},password:{required:D,minLength:de(6)},c_password:{required:D,minLength:de(6),sameAs:Ve(o.password)}}));M(()=>({char1:{required:D},char2:{required:D},char3:{required:D},char4:{required:D},char5:{required:D},char6:{required:D}}));const l=we(d,o);async function f(_){_.preventDefault();try{if(l.value.$validate(),l.value.$error)console.log("Nicht alle Felder ausgef\xFCllt");else{console.log("sucess");const{data:c}=await z.post("/sendCodeRegister",{vorname:o.vorname,nachname:o.nachname,email:o.email});n.value=c,console.log("Code: ",n.value),u.value=!0,OTPInput()}_.preventDefault()}catch(c){_.preventDefault(),console.log(c.message),i.value=!0,setTimeout(()=>{i.value=!1},5e3),b()}finally{_.preventDefault()}}function b(){o.vorname="",o.nachname="",o.email="",o.strasse_hnr="",o.stadt="",o.plz="",o.telefon="",o.password="",o.c_password=""}return(_,c)=>{const L=K("XCircleIcon"),x=K("XIcon");return p(),w(O,null,[e("div",Et,[e("div",At,[g(ke,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[t(i)?(p(),w("div",Ot,[e("div",Ut,[e("div",Nt,[e("div",Vt,[g(L,{class:"h-6 w-6 text-red-500","aria-hidden":"true"})]),Rt,e("div",Tt,[e("button",{onClick:c[0]||(c[0]=h=>S(i)?i.value=!1:i=!1),class:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2"},[jt,g(x,{class:"h-5 w-5","aria-hidden":"true"})])])])])])):I("",!0)]),_:1})])]),e("div",Wt,[Mt,e("div",Pt,[e("div",zt,[e("form",Ht,[e("div",null,[e("div",null,[e("div",Jt,[e("div",null,[Ft,e("div",Gt,[B(e("input",{"onUpdate:modelValue":c[1]||(c[1]=h=>t(o).vorname=h),type:"text",id:"first-name",name:"first-name",autocomplete:"given-name",class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[C,t(o).vorname]]),t(l).vorname.$invalid?(p(),w("p",Xt,y(t(l).vorname.$silentErrors[0].$message),1)):I("",!0)])]),e("div",null,[Zt,e("div",qt,[B(e("input",{"onUpdate:modelValue":c[2]||(c[2]=h=>t(o).nachname=h),type:"text",id:"last-name",name:"last-name",autocomplete:"family-name",class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[C,t(o).nachname]]),t(l).nachname.$invalid?(p(),w("p",Yt,y(t(l).nachname.$silentErrors[0].$message),1)):I("",!0)])]),e("div",Kt,[Qt,e("div",es,[B(e("input",{"onUpdate:modelValue":c[3]||(c[3]=h=>t(o).email=h),type:"email",name:"email",id:"email",class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[C,t(o).email]]),t(l).email.$invalid?(p(),w("p",ts,y(t(l).email.$silentErrors[0].$message),1)):I("",!0)])]),e("div",ss,[os,e("div",ls,[B(e("input",{"onUpdate:modelValue":c[4]||(c[4]=h=>t(o).password=h),type:"password",name:"password",id:"password",class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[C,t(o).password]]),t(l).password.$invalid?(p(),w("p",as,y(t(l).password.$silentErrors[0].$message),1)):I("",!0)])]),e("div",ns,[is,e("div",rs,[B(e("input",{"onUpdate:modelValue":c[5]||(c[5]=h=>t(o).c_password=h),type:"password",name:"c_password",id:"c_password",class:"block w-full border-gray-300 rounded-md shadow-sm focus:ring-divelogBlue focus:border-divelogBlue sm:text-sm"},null,512),[[C,t(o).c_password]]),t(l).c_password.$invalid?(p(),w("p",ds,y(t(l).c_password.$silentErrors[0].$message),1)):I("",!0)])])])])]),e("div",cs,[e("div",us,[e("a",{onClick:c[6]||(c[6]=h=>t(a).push("/")),class:"font-medium text-divelogBlue hover:text-diveDarkBlue underline hover:cursor-pointer"}," To Login ")])]),e("div",null,[e("button",{onClick:f,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-divelogBlue hover:bg-diveDarkBlue focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-divelogBlue"}," Register ")])])])])])],64)}}},gs={class:"m-4"},ps=e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Your stats:",-1),fs={class:"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3"},vs={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},hs=e("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Dives",-1),xs={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},_s={class:"overflow-hidden rounded-lg bg-white px-4 py-5 shadow sm:p-6"},ys=e("dt",{class:"truncate text-sm font-medium text-gray-500"},"Total Divetime",-1),bs={class:"mt-1 text-3xl font-semibold tracking-tight text-gray-900"},ws=e("br",null,null,-1),$s=e("hr",null,null,-1),ks=e("h1",{class:"text-center text-3xl font-bold my-4"},"All your Dives",-1),Ds=e("div",{id:"map",style:{height:"300px"}},null,-1),Bs=e("br",null,null,-1),Cs=e("hr",null,null,-1),Is=e("br",null,null,-1),Ls={class:"px-4 sm:px-6 lg:px-8 m-4"},Ss={class:"sm:flex sm:items-center"},Es=e("div",{class:"sm:flex-auto"},[e("h1",{class:"text-xl font-semibold text-gray-900"},"Dives"),e("p",{class:"mt-2 text-sm text-gray-700"},"Here you can see a list of all your dives.")],-1),As={class:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none"},Os={class:"mt-8 flex flex-col"},Us={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},Ns={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},Vs={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},Rs={class:"min-w-full divide-y divide-gray-300"},Ts=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"}," NR. "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Title "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Date ")])],-1),js={class:"bg-white"},Ws=["onClick"],Ms={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6"},Ps={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},zs={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-900"},Hs={setup(k){let a=m(null),i=m("pk.eyJ1IjoibHVrYXNzZW1sZXIiLCJhIjoiY2xlZTM3MzlyMDVuODN0b2NueWQ1OHNpZyJ9.NboOeOXWIhK0vucp7B9A5w"),u="mapbox://styles/lukassemler/clbaoba0t007t14nt6n0qujvl";const n=P(),o=R();let d=m([]);const l=m(!0);let f=null;const b=async()=>{if(!l.value){let x=await f.getAll("dives");d.value=x;return}try{const{data:x}=await z.get(`http://localhost:3000/dives/${o.aktiverUser.u_id}`);console.log(x),d.value=x,await f.clear("dives"),d.value.forEach(h=>{f.put("dives",Re(h))})}catch(x){console.error(x),l.value=!1,b()}},_=async()=>{f=await be("divesDB",1,{upgrade(x){x.createObjectStore("dives",{keyPath:"d_ID"})}})};se(async()=>{l.value=await te(),window.addEventListener("online",()=>{l.value=!0}),window.addEventListener("offline",()=>{l.value=!1,navigator.vibrate(200)}),await _(),await b(),a.value=new j.Map({container:"map",style:u,accessToken:i.value,center:[14,50],zoom:1});for(const x of d.value){const h=JSON.parse(x.coords);new j.Marker({anchor:"center",color:"#03C7FC"}).setLngLat([h[0],h[1]]).addTo(a.value)}});const c=M(()=>{let x=0;return d.value.forEach(h=>{x+=h.diveTime}),x});function L(x){console.log(x.d_ID),n.push(`/diveDetail/${x.d_ID}`)}return(x,h)=>(p(),w(O,null,[e("div",gs,[ps,e("dl",fs,[e("div",vs,[hs,e("dd",xs,y(t(d).length),1)]),e("div",_s,[ys,e("dd",bs,y(t(c))+"min ",1)])])]),ws,$s,ks,Ds,Bs,Cs,Is,e("div",Ls,[e("div",Ss,[Es,e("div",As,[e("button",{onClick:h[0]||(h[0]=$=>t(n).push("/addDive")),type:"button",class:"inline-flex items-center justify-center rounded-md border border-transparent bg-divelogBlue px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto"}," Add Dive ")])]),e("div",Os,[e("div",Us,[e("div",Ns,[e("div",Vs,[e("table",Rs,[Ts,e("tbody",js,[(p(!0),w(O,null,ee(t(d),($,U)=>(p(),w("tr",{key:U,class:A(U%2===0?void 0:"bg-gray-50"),onClick:N=>L($)},[e("td",Ms,y($.nr),1),e("td",Ps,y($.title),1),e("td",zs,y(new Date($.date).getDate())+"."+y(new Date($.date).getMonth()+1)+"."+y(new Date($.date).getFullYear()),1)],10,Ws))),128))])])])])])])])],64))}},Js={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Fs={class:"flex h-16 justify-between"},Gs=e("div",{class:"flex"},[e("div",{class:"flex flex-shrink-0 items-center"},[e("img",{class:"block h-8 w-auto lg:hidden",src:X,alt:"DiveLog"}),e("img",{class:"hidden h-8 w-auto lg:block",src:X,alt:"DiveLog"})]),e("div",{class:"hidden sm:ml-6 sm:flex sm:space-x-8"},[e("a",{href:"#",class:"inline-flex items-center border-b-2 border-diveLogBlue px-1 pt-1 text-sm font-medium text-gray-900"},"Home"),e("a",{href:"#",class:"inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700"},"Log Dive")])],-1),Xs={class:"hidden sm:ml-6 sm:flex sm:items-center"},Zs=e("div",null,null,-1),qs={class:"-mr-2 flex items-center sm:hidden"},Ys=e("span",{class:"sr-only"},"Open main menu",-1),Ks={class:"space-y-1 pt-2 pb-3"},Qs=H("Home"),eo=H("Log Dive"),to={class:"border-t border-gray-200 pt-4 pb-3"},so=e("div",{class:"flex items-center px-4"},[e("div",{class:"ml-3"})],-1),oo={class:"mt-3 space-y-1"},lo=H("Sign out"),ao=e("h1",{class:"text-center font-bold text-4xl mt-4"},"Home",-1),no=e("br",null,null,-1),io=e("div",null,"LOADING...",-1),ro={setup(k){const a=R(),i=P();function u(){a.deleteAktivenUser(),i.push("/")}return(n,o)=>(p(),w(O,null,[g(t(Te),{as:"nav",class:"bg-white shadow"},{default:v(({open:d})=>[e("div",Js,[e("div",Fs,[Gs,e("div",Xs,[g(t(je),{as:"div",class:"relative ml-3"},{default:v(()=>[Zs,g(ke,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:v(()=>[g(t(We),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:v(()=>[g(t(Y),null,{default:v(({active:l})=>[e("a",{href:"#",class:A([l?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Your Profil",2)]),_:1}),g(t(Y),null,{default:v(({active:l})=>[e("a",{href:"#",class:A([l?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Settings",2)]),_:1}),g(t(Y),null,{default:v(({active:l})=>[e("a",{onClick:u,class:A([l?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])},"Sign out",2)]),_:1})]),_:1})]),_:1})]),_:1})]),e("div",qs,[g(t(G),{class:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-diveLogBlue"},{default:v(()=>[Ys,d?(p(),T(t(Pe),{key:1,class:"block h-6 w-6","aria-hidden":"true"})):(p(),T(t(Me),{key:0,class:"block h-6 w-6","aria-hidden":"true"}))]),_:2},1024)])])]),g(t(ze),{class:"sm:hidden"},{default:v(()=>[e("div",Ks,[g(t(G),{as:"a",href:"#",class:"block border-l-4 border-diveLogBlue bg-gray-100 py-2 pl-3 pr-4 text-base font-medium text-divelogBlue"},{default:v(()=>[Qs]),_:1}),g(t(G),{as:"a",onClick:o[0]||(o[0]=l=>t(i).push("/addDive")),class:"block border-l-4 border-transparent py-2 pl-3 pr-4 text-base font-medium text-gray-500 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-700"},{default:v(()=>[eo]),_:1})]),e("div",to,[so,e("div",oo,[g(t(G),{onClick:u,as:"a",class:"block px-4 py-2 text-base font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-800"},{default:v(()=>[lo]),_:1})])])]),_:1})]),_:1}),e("div",null,[ao,no,(p(),T(De,null,{fallback:v(()=>[io]),default:v(()=>[g(Hs)]),_:1}))])],64))}},co=e("h1",{class:"text-center text-3xl font-bold mt-4"},"Log Dive",-1),uo={class:"space-y-8 divide-y divide-gray-200 m-4"},mo={class:"space-y-8 divide-y divide-gray-200"},go={class:"pt-8"},po=e("div",null,[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"General Information"),e("p",{class:"mt-1 text-sm text-gray-500"}," Here you can add general Information of the Dive. ")],-1),fo={class:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6"},vo={class:"sm:col-span-3"},ho=e("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1),xo={class:"mt-1"},_o={class:"sm:col-span-3"},yo=e("label",{for:"date",class:"block text-sm font-medium text-gray-700"},"Date",-1),bo={class:"mt-1"},wo={class:"sm:col-span-4"},$o=e("label",{for:"Country",class:"block text-sm font-medium text-gray-700"},"Country",-1),ko={class:"mt-1"},Do={class:"sm:col-span-4"},Bo=e("label",{for:"divesite",class:"block text-sm font-medium text-gray-700"},"Divesite",-1),Co={class:"mt-1"},Io=e("p",{class:"my-3 text-gray-500"},"or pick your current location",-1),Lo=e("br",null,null,-1),So=e("div",{class:"mt-5"},[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Specific Information"),e("p",{class:"mt-1 text-sm text-gray-500"}," Here you can add specific Information of the Dive like depth and time. ")],-1),Eo={class:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6"},Ao={class:"sm:col-span-3"},Oo=e("label",{for:"depth",class:"block text-sm font-medium text-gray-700"},"Max. Depth",-1),Uo={class:"mt-1"},No={class:"sm:col-span-3"},Vo=e("label",{for:"time",class:"block text-sm font-medium text-gray-700"},"Dive Time",-1),Ro={class:"mt-1"},To={class:"sm:col-span-3"},jo=e("label",{for:"airIn",class:"block text-sm font-medium text-gray-700"},"Air In",-1),Wo={class:"mt-1"},Mo={class:"sm:col-span-3"},Po=e("label",{for:"airOut",class:"block text-sm font-medium text-gray-700"},"Air Our",-1),zo={class:"mt-1"},Ho={class:"flex flex-row"},Jo={class:"flex flex-col w-full"},Fo=H("Type of Air"),Go={class:"relative mt-1"},Xo={class:"sm:col-span-3"},Zo=e("label",{for:"weight",class:"block text-sm font-medium text-gray-700"},"Weight (kg)",-1),qo={class:"mt-1"},Yo={class:"flex flex-row"},Ko={class:"flex flex-col w-full"},Qo=H("Suit"),el={class:"relative mt-1"},tl={class:"pt-8"},sl=e("div",null,[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Memories"),e("p",{class:"mt-1 text-sm text-gray-500"}," Here you can upload the beste Image from the dive ")],-1),ol={class:"sm:col-span-2"},ll=e("label",{for:"cover-photo",class:"block text-sm font-medium text-gray-700"}," Image ",-1),al={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},nl={key:0,class:"space-y-1 text-center"},il=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),rl={class:"flex text-sm text-gray-600"},dl={for:"file-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-divelogBlue hover:text-divelogBlue focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-divelogBlue"},cl=e("span",null,"Upload a file",-1),ul=e("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF up to 10MB",-1),ml={key:1},gl={class:"flex justify-center"},pl=["src"],fl={key:0,class:"flex justify-center"},vl={class:"pt-5"},hl={class:"flex justify-end"},xl={setup(k){const a=P(),i=R();let u=m(null),n=m("pk.eyJ1IjoibHVrYXNzZW1sZXIiLCJhIjoiY2xlZTM3MzlyMDVuODN0b2NueWQ1OHNpZyJ9.NboOeOXWIhK0vucp7B9A5w"),o="mapbox://styles/lukassemler/clbaoba0t007t14nt6n0qujvl",d=m("0px"),l=m(""),f=m(null),b=m(""),_=m(""),c=m(null),L=m(null),x=m(null),h=m(null),$=m(null),U=m(null),N=m(null);const le=[{id:1,name:"Without"},{id:2,name:"Shorty"},{id:3,name:"3mm"},{id:4,name:"5mm"},{id:5,name:"7mm"},{id:6,name:"Semi-Dry"},{id:7,name:"Dry"}],Z=m(""),J=m(null),ae=M(()=>Z.value===""?le:le.filter(V=>V.name.toLowerCase().includes(Z.value.toLowerCase()))),ne=[{id:1,name:"Air"},{id:2,name:"EANx 30"},{id:3,name:"EANx 31"},{id:4,name:"EANx 32"},{id:5,name:"EANx 33"}],q=m(""),F=m(null),ie=M(()=>q.value===""?ne:ne.filter(V=>V.name.toLowerCase().includes(q.value.toLowerCase())));async function Ce(){let V=()=>new Promise(function(E,W){navigator.geolocation.getCurrentPosition(E,W)}),{coords:{latitude:r,longitude:s}}=await V();c.value=[s,r],console.log(r,s),d.value="300px",j.accessToken=n.value,u.value=await new j.Map({container:"map",style:o,center:[s,r],zoom:13}),new j.Marker({anchor:"center",color:"#03C7FC"}).setLngLat([s,r]).addTo(u.value)}async function Ie(V){let r=new FileReader;r.addEventListener("load",async E=>{console.log(E),N.value=E.target.result});let s=await Je(document.querySelector("#file-upload").files[0],{maxSizeMB:.004,maxWidthOrHeight:1920,useWebWorker:!0});r.readAsDataURL(s)}async function Le(V){if(V.preventDefault(),c.value)try{await z.post(`http://localhost:3000/addDive/${i.aktiverUser.u_id}`,{title:l.value,date:f.value,country:b.value,divesite:_.value,depth:L.value,airIn:h.value,airOut:$.value,weight:U.value,air:F.value.name,suit:J.value.name,coords:c.value,time:x.value,image:N.value}),a.go(-1)}catch{console.log("Error")}else try{await z.post(`http://localhost:3000/addDive/${i.aktiverUser.u_id}`,{title:l.value,date:f.value,country:b.value,divesite:_.value,depth:L.value,airIn:h.value,airOut:$.value,weight:U.value,air:F.value.name,suit:J.value.name,coords:null,time:x.value}),a.go(-1)}catch{console.log("Error")}}return(V,r)=>(p(),w(O,null,[e("button",{type:"button",class:"inline-flex items-center rounded-full border border-transparent bg-divelogBlue p-2 text-white shadow-sm hover:bg-divelogDarkBlue focus:outline-none focus:ring-2 focus:ring-divelogBlue focus:ring-offset-2 m-4",onClick:r[0]||(r[0]=s=>t(a).go(-1))},[g(t(Be),{class:"h-6 w-6","aria-hidden":"true"})]),co,e("form",uo,[e("div",mo,[e("div",go,[po,e("div",fo,[e("div",vo,[ho,e("div",xo,[B(e("input",{type:"text",name:"title",id:"title",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":r[1]||(r[1]=s=>S(l)?l.value=s:l=s)},null,512),[[C,t(l)]])])]),e("div",_o,[yo,e("div",bo,[B(e("input",{type:"date",name:"date",id:"date",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":r[2]||(r[2]=s=>S(f)?f.value=s:f=s)},null,512),[[C,t(f)]])])]),e("div",wo,[$o,e("div",ko,[B(e("input",{id:"country",name:"country",type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":r[3]||(r[3]=s=>S(b)?b.value=s:b=s)},null,512),[[C,t(b)]])])]),e("div",Do,[Bo,e("div",Co,[B(e("input",{id:"divesite",name:"divesite",type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":r[4]||(r[4]=s=>S(_)?_.value=s:_=s)},null,512),[[C,t(_)]])]),Io,e("div",{class:"flex flex-row justify-center"},[e("button",{type:"button",class:"mt-4 inline-flex items-center rounded-md border border-transparent bg-divelogBlue px-3 py-2 text-sm font-medium leading-4 text-white shadow-sm hover:bg-divelogDarkBlue focus:outline-none focus:ring-2 focus:ring-divelogBlue focus:ring-offset-2",onClick:Ce}," Get current location ")]),Lo,e("div",{style:He(`height: ${t(d)}`),id:"map"},null,4)])])]),e("div",null,[So,e("div",Eo,[e("div",Ao,[Oo,e("div",Uo,[B(e("input",{type:"number",name:"depth",id:"depth",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":r[5]||(r[5]=s=>S(L)?L.value=s:L=s)},null,512),[[C,t(L)]])])]),e("div",No,[Vo,e("div",Ro,[B(e("input",{type:"number",name:"time",id:"time",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":r[6]||(r[6]=s=>S(x)?x.value=s:x=s)},null,512),[[C,t(x)]])])]),e("div",To,[jo,e("div",Wo,[B(e("input",{type:"number",name:"airIn",id:"airIn",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":r[7]||(r[7]=s=>S(h)?h.value=s:h=s)},null,512),[[C,t(h)]])])]),e("div",Mo,[Po,e("div",zo,[B(e("input",{type:"number",name:"airOut",id:"airOut",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":r[8]||(r[8]=s=>S($)?$.value=s:$=s)},null,512),[[C,t($)]])])]),e("div",Ho,[e("div",Jo,[g(t(ce),{as:"div",modelValue:F.value,"onUpdate:modelValue":r[10]||(r[10]=s=>F.value=s)},{default:v(()=>[g(t(ue),{class:"block text-sm font-medium text-gray-700"},{default:v(()=>[Fo]),_:1}),e("div",Go,[g(t(me),{class:"w-full rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 shadow-sm focus:border-divelogBlue focus:outline-none focus:ring-1 focus:ring-divelogBlue sm:text-sm",onChange:r[9]||(r[9]=s=>q.value=s.target.value),"display-value":s=>s==null?void 0:s.name},null,8,["display-value"]),g(t(ge),{class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},{default:v(()=>[g(t(pe),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1}),t(ie).length>0?(p(),T(t(fe),{key:0,class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:v(()=>[(p(!0),w(O,null,ee(t(ie),s=>(p(),T(t(ve),{key:s.id,value:s,as:"template"},{default:v(({active:E,selected:W})=>[e("li",{class:A(["relative cursor-default select-none py-2 pl-3 pr-9",E?"bg-divelogBlue text-white":"text-gray-900"])},[e("span",{class:A(["block truncate",W&&"font-semibold"])},y(s.name),3),W?(p(),w("span",{key:0,class:A(["absolute inset-y-0 right-0 flex items-center pr-4",E?"text-white":"text-divelogBlue"])},[g(t(he),{class:"h-5 w-5","aria-hidden":"true"})],2)):I("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):I("",!0)])]),_:1},8,["modelValue"])])]),e("div",Xo,[Zo,e("div",qo,[B(e("input",{type:"number",name:"weight",id:"weight",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-divelogBlue focus:ring-divelogBlue sm:text-sm","onUpdate:modelValue":r[11]||(r[11]=s=>S(U)?U.value=s:U=s)},null,512),[[C,t(U)]])])]),e("div",Yo,[e("div",Ko,[g(t(ce),{as:"div",modelValue:J.value,"onUpdate:modelValue":r[13]||(r[13]=s=>J.value=s)},{default:v(()=>[g(t(ue),{class:"block text-sm font-medium text-gray-700"},{default:v(()=>[Qo]),_:1}),e("div",el,[g(t(me),{class:"w-full rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 shadow-sm focus:border-divelogBlue focus:outline-none focus:ring-1 focus:ring-divelogBlue sm:text-sm",onChange:r[12]||(r[12]=s=>Z.value=s.target.value),"display-value":s=>s==null?void 0:s.name},null,8,["display-value"]),g(t(ge),{class:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none"},{default:v(()=>[g(t(pe),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1}),t(ae).length>0?(p(),T(t(fe),{key:0,class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:v(()=>[(p(!0),w(O,null,ee(t(ae),s=>(p(),T(t(ve),{key:s.id,value:s,as:"template"},{default:v(({active:E,selected:W})=>[e("li",{class:A(["relative cursor-default select-none py-2 pl-3 pr-9",E?"bg-divelogBlue text-white":"text-gray-900"])},[e("span",{class:A(["block truncate",W&&"font-semibold"])},y(s.name),3),W?(p(),w("span",{key:0,class:A(["absolute inset-y-0 right-0 flex items-center pr-4",E?"text-white":"text-divelogBlue"])},[g(t(he),{class:"h-5 w-5","aria-hidden":"true"})],2)):I("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):I("",!0)])]),_:1},8,["modelValue"])])])])]),e("div",tl,[sl,e("div",ol,[ll,e("div",al,[t(N)?(p(),w("div",ml,[e("div",gl,[e("img",{crossorigin:"anonymous",class:"object-scale-down h-48 w-96 mt-3",src:t(N),alt:""},null,8,pl)])])):(p(),w("div",nl,[il,e("div",rl,[e("label",dl,[cl,e("input",{id:"file-upload",name:"file-upload",type:"file",class:"sr-only",accept:"image/png, image/gif, image/jpeg",onChange:Ie,multiple:"true"},null,32)])]),ul]))]),t(N)?(p(),w("div",fl,[e("button",{onClick:r[14]||(r[14]=s=>S(N)?N.value=null:N=null),type:"button",class:"mt-2 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-500 hover:bg-chsRed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-chsRed"}," Bild entfernen ")])):I("",!0)])])]),e("div",vl,[e("div",hl,[e("button",{onClick:r[15]||(r[15]=s=>t(a).push("/home")),type:"button",class:"rounded-md border border-gray-300 bg-white py-2 px-4 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-divelogBlue focus:ring-offset-2"}," Cancel "),e("button",{type:"submit",class:"ml-3 inline-flex justify-center rounded-md border border-transparent bg-divelogBlue py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg--divelogBlue focus:outline-none focus:ring-2 focus:ring-divelogBlue focus:ring-offset-2",onClick:Le}," Save ")])])])],64))}},_l={class:"overflow-hidden bg-white shadow sm:rounded-lg"},yl=e("div",{class:"px-4 py-5 sm:px-6"},[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Dive Info")],-1),bl={class:"border-t border-gray-200"},wl={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},$l=e("dt",{class:"text-sm font-medium text-gray-500"},"Dive Number",-1),kl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Dl={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Bl=e("dt",{class:"text-sm font-medium text-gray-500"},"Title",-1),Cl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Il={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Ll=e("dt",{class:"text-sm font-medium text-gray-500"},"Date",-1),Sl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},El={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Al=e("dt",{class:"text-sm font-medium text-gray-500"},"Country",-1),Ol={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Ul={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Nl=e("dt",{class:"text-sm font-medium text-gray-500"},"Dive Site",-1),Vl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Rl=e("br",null,null,-1),Tl={class:"overflow-hidden bg-white shadow sm:rounded-lg"},jl=e("div",{class:"px-4 py-5 sm:px-6"},[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Dive Details")],-1),Wl={class:"border-t border-gray-200"},Ml={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Pl=e("dt",{class:"text-sm font-medium text-gray-500"},"Max. Depth",-1),zl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Hl={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Jl=e("dt",{class:"text-sm font-medium text-gray-500"},"Divetime",-1),Fl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Gl={class:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Xl=e("dt",{class:"text-sm font-medium text-gray-500"},"Air In",-1),Zl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},ql={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},Yl=e("dt",{class:"text-sm font-medium text-gray-500"},"Air Out",-1),Kl={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},Ql={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},ea=e("dt",{class:"text-sm font-medium text-gray-500"},"Wetsuit",-1),ta={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},sa={class:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},oa=e("dt",{class:"text-sm font-medium text-gray-500"},"Weight",-1),la={class:"mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0"},aa=e("h1",{class:"text-center text-xl my-4"},"View you Dive on the Map",-1),na=e("div",{id:"karte",style:{height:"300px"}},null,-1),ia=e("br",null,null,-1),ra=e("hr",null,null,-1),da=e("br",null,null,-1),ca=e("h1",{class:"text-center text-xl font-bold my-3"},"The best Image from your Dive",-1),ua=["src"],ma={props:{diveID:String},async setup(k){let a,i;const u=k,n=R();let o=m(null),d=m("pk.eyJ1IjoibHVrYXNzZW1sZXIiLCJhIjoiY2xlZTM3MzlyMDVuODN0b2NueWQ1OHNpZyJ9.NboOeOXWIhK0vucp7B9A5w"),l="mapbox://styles/lukassemler/clbaoba0t007t14nt6n0qujvl",f=m("0px");const{data:b}=([a,i]=Fe(()=>z.get(`http://localhost:3000/getDiveInfo/${n.aktiverUser.u_id}/${u.diveID}`)),a=await a,i(),a),_=JSON.parse(b[0].coords);se(async()=>{f.value="300px",j.accessToken=d.value,o.value=await new j.Map({container:"karte",style:l,center:[_[0],_[1]],zoom:4}),new j.Marker({anchor:"center",color:"#03C7FC"}).setLngLat([_[0],_[1]]).addTo(o.value)});let c=m(b[0]);return(L,x)=>(p(),w(O,null,[e("div",_l,[yl,e("div",bl,[e("dl",null,[e("div",wl,[$l,e("dd",kl,y(t(c).nr),1)]),e("div",Dl,[Bl,e("dd",Cl,y(t(c).title),1)]),e("div",Il,[Ll,e("dd",Sl,y(new Date(t(c).date).getDate())+"."+y(new Date(t(c).date).getMonth()+1)+"."+y(new Date(t(c).date).getFullYear()),1)]),e("div",El,[Al,e("dd",Ol,y(t(c).location),1)]),e("div",Ul,[Nl,e("dd",Vl,y(t(c).divesite),1)])])])]),Rl,e("div",Tl,[jl,e("div",Wl,[e("dl",null,[e("div",Ml,[Pl,e("dd",zl,y(t(c).depth)+"m",1)]),e("div",Hl,[Jl,e("dd",Fl,y(t(c).diveTime)+"min ",1)]),e("div",Gl,[Xl,e("dd",Zl,y(t(c).airIn)+"Bar ",1)]),e("div",ql,[Yl,e("dd",Kl,y(t(c).airOut)+"Bar ",1)]),e("div",Ql,[ea,e("dd",ta,y(t(c).suit),1)]),e("div",sa,[oa,e("dd",la,y(t(c).weight)+"kg ",1)])])])]),aa,na,ia,ra,da,ca,e("img",{src:t(c).image,alt:""},null,8,ua)],64))}},ga=e("h1",null,"LOADING",-1),pa={setup(k){const a=P(),i=a.currentRoute.value.params.id;return(u,n)=>(p(),w(O,null,[e("button",{type:"button",class:"inline-flex items-center rounded-full border border-transparent bg-divelogBlue p-2 text-white shadow-sm hover:bg-divelogDarkBlue focus:outline-none focus:ring-2 focus:ring-divelogBlue focus:ring-offset-2 m-4",onClick:n[0]||(n[0]=o=>t(a).go(-1))},[g(t(Be),{class:"h-6 w-6","aria-hidden":"true"})]),(p(),T(De,null,{fallback:v(()=>[ga]),default:v(()=>[g(ma,{diveID:t(i)},null,8,["diveID"])]),_:1}))],64))}},fa=Ge({history:Xe(),routes:[{path:"/",name:"Login_RegisterView",component:it,children:[{path:"",component:St},{path:"register",component:ms}]},{path:"/home",name:"Home",component:ro,beforeEnter:(k,a,i)=>{R().aktiverUser?i():i("/")}},{path:"/addDive",name:"Add Dive",component:xl},{path:"/diveDetail/:id",params:!0,name:"DiveDetail",component:pa,beforeEnter:(k,a,i)=>{R().aktiverUser?i():i("/")}},{path:"/:pathmatch(.*)*",name:"not-found",component:ft}]});const va="modulepreload",_e={},ha="/",xa=function(a,i){return!i||i.length===0?a():Promise.all(i.map(u=>{if(u=`${ha}${u}`,u in _e)return;_e[u]=!0;const n=u.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${o}`))return;const d=document.createElement("link");if(d.rel=n?"stylesheet":va,n||(d.as="script",d.crossOrigin=""),d.href=u,document.head.appendChild(d),n)return new Promise((l,f)=>{d.addEventListener("load",l),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>a())};function _a(k={}){const{immediate:a=!1,onNeedRefresh:i,onOfflineReady:u,onRegistered:n,onRegisteredSW:o,onRegisterError:d}=k;let l,f,b,_;const c=async(x=!0)=>{await b,x&&(l==null||l.addEventListener("controlling",h=>{h.isUpdate&&window.location.reload()})),await(_==null?void 0:_())};async function L(){if("serviceWorker"in navigator){const{Workbox:x,messageSW:h}=await xa(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);_=async()=>{f&&f.waiting&&await h(f.waiting,{type:"SKIP_WAITING"})},l=new x("/service-worker.js",{scope:"/",type:"classic"}),l.addEventListener("activated",$=>{$.isUpdate||u==null||u()});{const $=()=>{i==null||i()};l.addEventListener("waiting",$),l.addEventListener("externalwaiting",$)}l.register({immediate:a}).then($=>{f=$,o?o("/service-worker.js",$):n==null||n($)}).catch($=>{d==null||d($)})}}return b=L(),c}(location.origin==="http://localhost:8080"||location.origin==="http://localhost:5050")&&(z.defaults.baseURL="http://localhost:2410");const oe=Ze(nt),ya=qe();oe.use(ya);_a({onNeedRefresh(){},onOfflineReady(){}});oe.use(fa);oe.mount("#app");
